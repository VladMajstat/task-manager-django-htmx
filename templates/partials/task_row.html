<div class="app-task-row d-flex align-items-stretch gap-2 px-2  border-top"
     data-task-id="{{ task.id }}">

  <div id="project-{{ task.project_id }}-empty" hx-swap-oob="delete"></div>

  <div class="pt-1 app-task-col app-task-col-check">
    <input class="form-check-input" type="checkbox" {% if task.is_done %}checked{% endif %}
      hx-post="{% url 'service:task_toggle_done' task.id %}"
      hx-target="closest .app-task-row"
      hx-swap="outerHTML"
    />
  </div>

  <div class="flex-grow-1 app-task-col app-task-col-text">
    <div class="app-task-text {% if task.is_done %}app-task-done{% endif %}">
      {{ task.name }}
    </div>


  </div>

  <!-- Task actions -->
  <div class="d-flex align-items-center gap-1 app-task-col app-task-col-actions">
    <button
      class="btn btn-sm btn-link text-muted app-icon-btn"
      title="Edit"
      type="button"
      hx-get="{% url 'service:task_update' task.id %}"
      hx-target="closest .app-task-row"
      hx-swap="outerHTML"
    >
      Edit
    </button>
    <button
      class="btn btn-sm btn-link text-muted app-icon-btn"
      title="Delete"
      type="button"
      hx-post="{% url 'service:task_delete' task.id %}"
      hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
      hx-target="closest .app-task-row"
      hx-swap="delete"
      hx-confirm="Delete this task?"
      data-confirm="delete"
    >
      Delete
    </button>
  </div>
</div>
